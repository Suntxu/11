<!DOCTYPE html>
<html>
    <head>
        <title>模块 - FastAdmin</title>
        <meta charset="utf-8">
        <meta name="keywords" content="">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <meta property="og:type" content="article">
        <meta property="og:title" content="模块 - FastAdmin">
        <meta property="og:description" content="">
        <!--<meta property="og:image" content="../assets/images/logo.png">-->

        <!--<link rel="icon" href="../assets/images/logo.png" type="image/x-icon">-->

        <!-- <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono" rel="stylesheet" type="text/css"> -->
        <link href="../assets/css/highlight.min.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/search.css" rel="stylesheet" type="text/css">

        <!-- main page styles -->
        <link rel="stylesheet" href="../assets/css/page.css">

        
        <script>window.PAGE_TYPE = "docs"</script>
        <script>window.SEARCH_URL = "../assets/js/docs.json"</script>
        <script>window.DOCS_MODE = "html"</script>
    </head>
    <body class="docs">

        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="../docs/index.html">
                                <span>FastAdmin</span>
                            </a>
        </div>

        <div id="header">
    <a id="logo" href="../docs/index.html">
                <span>FastAdmin</span>
            </a>
    <ul id="nav">
        <li>
    <form id="search-form">
        <input type="text" id="search-query-" class="search-query local-search-input st-default-search-input">
    </form>
    <div class="local-search-result"></div>
</li>
<li><a href="http://www.fastadmin.net" class="">首页</a></li>
<li><a href="http://doc.fastadmin.net" class="">文档</a></li>
<li><a href="http://forum.fastadmin.net" class="">论坛</a></li>
<li><a href="https://git.oschina.net/karson/fastadmin" class="">下载</a></li>
<li><a href="http://demo.fastadmin.net" class="">在线演示</a></li>
    </ul>
</div>


                <div id="main" class="fix-sidebar">
            <div class="sidebar">
    <ul class="main-menu">
        <li>
    <form id="search-form">
        <input type="text" id="search-query-" class="search-query local-search-input st-default-search-input">
    </form>
    <div class="local-search-result"></div>
</li>
<li><a href="http://www.fastadmin.net" class="">首页</a></li>
<li><a href="http://doc.fastadmin.net" class="">文档</a></li>
<li><a href="http://forum.fastadmin.net" class="">论坛</a></li>
<li><a href="https://git.oschina.net/karson/fastadmin" class="">下载</a></li>
<li><a href="http://demo.fastadmin.net" class="">在线演示</a></li>
    </ul>
    <div class="list">
        <h2>
            文档        </h2>
        <ul class="menu-root">

                        <li>
                <a href="index.html" class="sidebar-link">介绍</a>
            </li>
                        <li>
                <a href="index.html" class="sidebar-link">介绍</a>
            </li>
                        <li>
                <a href="install.html" class="sidebar-link">安装</a>
            </li>
                        <li>
                <a href="install.html" class="sidebar-link">安装</a>
            </li>
                        <li>
                <a href="command.html" class="sidebar-link">命令行</a>
            </li>
                        <li>
                <a href="command.html" class="sidebar-link">命令行</a>
            </li>
                        <li>
                <a href="construct.html" class="sidebar-link">目录结构</a>
            </li>
                        <li>
                <a href="construct.html" class="sidebar-link">目录结构</a>
            </li>
                        <li>
                <a href="language.html" class="sidebar-link">多语言</a>
            </li>
                        <li>
                <a href="language.html" class="sidebar-link">多语言</a>
            </li>
                        <li>
                <a href="database.html" class="sidebar-link">数据库</a>
            </li>
                        <li>
                <a href="database.html" class="sidebar-link">数据库</a>
            </li>
                        <li>
                <a href="module.html" class="sidebar-link current">模块</a>
            </li>
                        <li>
                <a href="module.html" class="sidebar-link current">模块</a>
            </li>
                        <li>
                <a href="component.html" class="sidebar-link">组件</a>
            </li>
                        <li>
                <a href="component.html" class="sidebar-link">组件</a>
            </li>
                        <li>
                <a href="faq.html" class="sidebar-link">常见问题</a>
            </li>
                        <li>
                <a href="faq.html" class="sidebar-link">常见问题</a>
            </li>
                        <li>
                <a href="contributing.html" class="sidebar-link">贡献代码</a>
            </li>
                        <li>
                <a href="contributing.html" class="sidebar-link">贡献代码</a>
            </li>
                    </ul>
    </div>
</div>

<div class="content docs with-sidebar">
        <h1>模块</h1>
    
    <h2>系统配置</h2><p>在开发中经常会遇到一些配置信息可以在后台进行修改的功能，此时我们在系统配置中进行增改操作。</p><p>系统配置支持多种数据类型，下面依次做简单介绍</p><table><thead><tr><th>类型</th><th>介绍</th></tr></thead><tbody><tr><td>字符</td><td>生成单行文本框</td></tr><tr><td>文本</td><td>生成多行文本框</td></tr><tr><td>数字</td><td>生成单行数字文本框</td></tr><tr><td>日期时间</td><td>生成文本框且自动生成日期时间选择器</td></tr><tr><td>列表</td><td>生成下拉列表框</td></tr><tr><td>列表(多)</td><td>生成多选下拉列表框</td></tr><tr><td>图片</td><td>生成单图文本框且上传或选择单图，带图片预览</td></tr><tr><td>图片(多)</td><td>生成多图文本框且可上传或选择多张图，带图片预览</td></tr><tr><td>文件</td><td>生成文本框且可上传或选择文件</td></tr><tr><td>文件(多)</td><td>生成文本框且可上传或选择多个文件</td></tr><tr><td>复选</td><td>生成复选框</td></tr><tr><td>单选</td><td>生成单选框</td></tr><tr><td>数组</td><td>生成一维数组输入列表且可动态添加和排序</td></tr></tbody></table><h2>定时任务</h2><p>在FastAdmin自带一套定时任务的功能，在配置上Crontab之前是不起作用的。</p><p><strong>操作步骤</strong></p><ol><li>在Crontab中新增一条定时任务的记录</li></ol><pre><code>* * * * * /usr/bin/php /your-fastadmin-dir/public/index.php /index/autotask/crontab &gt;&gt; /var/log/fastadmin.`date +\%Y-\%m-\%d`.log 2&gt;&amp;1</code></pre><ol><li>在后台<code>常规管理</code>-&gt;<code>定时任务</code>新增一条记录即可</li><li>执行成功后会在<code>runtime/log/crontab</code>目录中生成当天的日志文件</li></ol><blockquote><code>/index/autotask/crontab</code>这个地址只在CLI控制台起作用，浏览器访问是不启作用的。</blockquote><h2>数据库管理</h2><p>FastAdmin集成了一个简洁的数据库在线管理功能，可在线进行一些简单的数据库表优化或修复,查看表结构和数据的操作。也可以进行单条或多条SQL语句的查询。</p><p>为了避免表数据量过大导致浏览器卡顿的情况出现，FastAdmin在查看表数据和执行SELECT查询的时候做了Limit 100的限制，如果需要查询超过100条的数据，请手动在你的SQL语句后加上LIMIT限制。</p><p>如果是Update或Delete查询，则会返回影响的行数</p><blockquote>数据库管理权限过大，可任意操作数据库，建议只开放给超级管理员或数据库管理人员使用。</blockquote><h2>附件管理</h2><p>附件管理可以管理后台上传的文件资源，也可以在此上传资源到服务器</p><p>在使用上传功能之前，建议先配置<code>/application/extra/upload.php</code>中的参数信息，否则上传功能和附件管理功能将无法正常使用。</p><p>在需要使用到上传的地方放置一个上传按钮，并且级这个按钮添加上<code>plupload</code>这个类即可</p><p>如果需要上传后将上传获得的地址填充到文本框，给对应的文本框加上一个属性，例如：</p><pre><code>&lt;input type=&quot;text&quot; name=&quot;row[upyun]&quot; id=&quot;c-upyun&quot; class=&quot;form-control&quot; cols=&quot;60&quot; /&gt;
&lt;button id=&quot;plupload-upyun&quot; class=&quot;btn btn-danger plupload&quot; data-input-id=&quot;c-upyun&quot; data-after-upload=&quot;mycustomcallback&quot;&gt;&lt;i class=&quot;fa fa-upload&quot;&gt;&lt;/i&gt;上传&lt;/button&gt;</code></pre><p>其中<code>data-input-id</code>的值需要和文本框的ID的值对应起来，这样在上传成功以后FastAdmin会自动将文本填充值到文本框中去，<br>如果需要上传后进行回调处理自己的处理方法</p><p>比如上方的代码中有添加了属性<code>data-after-upload=&quot;mycustomcallback&quot;</code><br>此时你需要可以在你模块的JS文件中先注册一个回调函数，一定要注册在<code>Upload.api.custom</code>下，注册方法为：</p><pre><code>require([&quot;upload&quot;], function (Upload) {
    Upload.api.custom.mycustomcallback = function (data) {
        console.log(data, &quot;这里是自定义的回调方法&quot;);
    }
});</code></pre><p>其中data就是从服务器返回的包含了上传URL的数据，此时你想要怎么处理URL都行。</p><h2>微信管理</h2><p>在使用微信管理之前，请先配置好<code>/application/extra/wechat.php</code>中的配置信息，其次在微信公众号开发者平台中配置好相应的回调地址，回调地址是：</p><pre><code>http://www.yoursite.com/index/wechat/api</code></pre><p>其次在公众号管理后台配置回调时，FastAdmin只有部署在外网环境下才可以正常配置！</p>    <div class="docs-links">

                <span>← <a href="module.html">模块</a></span>
                <span style="float:right"><a href="component.html">组件</a> →</span>
            </div>
        
    <div class="footer">
                发现错误？想参与编辑？        <a href="https://github.com/karsonzhang/fastadmin-doc/blob/master/module.md" target="_blank">
            在 Github 上编辑此页！        </a>
            </div>
    
</div>

        </div>
        <script src="../assets/js/smooth-scroll.min.js"></script>
        
        <script src="../assets/js/jquery.min.js"></script>
        <script src="../assets/js/highlight.min.js"></script>
        <script src="../assets/js/common.js"></script>
        <script src="../assets/js/search.js"></script>
        <script src="../assets/js/fastclick.min.js"></script>

        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function () {
                FastClick.attach(document.body);
            }, false);
        </script>

            </body>
</html>